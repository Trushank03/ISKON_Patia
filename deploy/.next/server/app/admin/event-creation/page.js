(()=>{var e={};e.id=897,e.ids=[897],e.modules={40:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1263:()=>{},1945:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(687),r=s(3210),i=s(474),n=s(5814),l=s.n(n),o=s(6189),d=s(8559),c=s(2688);let m=(0,c.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var x=s(3613);let h=(0,c.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),u=(0,c.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),p=(0,c.A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),v=(0,c.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var y=s(4490);function g(){(0,o.useRouter)();let[e,t]=(0,r.useState)(""),[s,n]=(0,r.useState)(""),[c,g]=(0,r.useState)(""),[f,b]=(0,r.useState)(null),[j,N]=(0,r.useState)(null),[w,P]=(0,r.useState)(!1),[k,S]=(0,r.useState)(!1),[A,E]=(0,r.useState)(!1),[C,D]=(0,r.useState)(null),[T,M]=(0,r.useState)([]),[z,_]=(0,r.useState)(!0),[I,q]=(0,r.useState)(null),F=async()=>{P(!0),q(null);try{let t=new FormData;t.append("noticeTitle",e),t.append("noticeText",s),t.append("globalNoticeID",c||`NTC${Math.floor(1e3*Math.random()).toString().padStart(3,"0")}`),t.append("creationTime",new Date().toISOString()),f&&t.append("noticefile",f),await fetch("http://127.0.0.1:8000/api/notice/notices/",{method:"POST",body:t}),await new Promise(e=>setTimeout(e,1500));let a={id:T.length+1,noticeTitle:e,noticeText:s,creationTime:new Date().toISOString(),globalNoticeID:c||`NTC${Math.floor(1e3*Math.random()).toString().padStart(3,"0")}`,noticefile:j};M([...T,a]),V(),alert("Event created successfully!")}catch(e){console.error("Error creating notice:",e),q("Failed to create event. Please try again.")}finally{P(!1)}},O=async()=>{if(C){P(!0),q(null);try{await new Promise(e=>setTimeout(e,1500));let t=T.map(t=>t.id===C?{...t,noticeTitle:e,noticeText:s,globalNoticeID:c}:t);M(t),V(),E(!1),D(null),alert("Event updated successfully!")}catch(e){console.error("Error updating notice:",e),q("Failed to update event. Please try again.")}finally{P(!1)}}},H=async e=>{if(confirm("Are you sure you want to delete this event?"))try{await new Promise(e=>setTimeout(e,1e3)),M(T.filter(t=>t.id!==e)),alert("Event deleted successfully!")}catch(e){console.error("Error deleting notice:",e),alert("Failed to delete event. Please try again.")}},L=async e=>{e.preventDefault(),A?await O():await F()},R=e=>{t(e.noticeTitle),n(e.noticeText),g(e.globalNoticeID),N(e.noticefile),E(!0),D(e.id),window.scrollTo({top:0,behavior:"smooth"})},V=()=>{t(""),n(""),g(""),b(null),N(null),E(!1),D(null)},G=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,a.jsxs)("main",{className:"min-h-screen flex flex-col bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-primary text-white",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(i.default,{src:"/images/iskcon-logo.png",alt:"ISKCON Logo",width:80,height:60,className:"h-12 w-auto"}),(0,a.jsx)("span",{className:"ml-3 text-xl font-medium",children:"Admin Portal"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"text-sm",children:"Welcome, Admin"}),(0,a.jsx)(l(),{href:"/loginadmin",className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded-md text-sm transition-colors duration-300",children:"Logout"})]})]})})}),(0,a.jsx)("div",{className:"bg-white border-b",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"flex items-center h-12",children:[(0,a.jsx)(l(),{href:"/admin/dashboard",className:"text-gray-600 hover:text-primary px-3 py-2 text-sm font-medium",children:"Dashboard"}),(0,a.jsx)(l(),{href:"/admin/event-creation",className:"text-primary border-b-2 border-primary px-3 py-2 text-sm font-medium",children:"Events"}),(0,a.jsx)(l(),{href:"/admin/donations",className:"text-gray-600 hover:text-primary px-3 py-2 text-sm font-medium",children:"Donations"}),(0,a.jsx)(l(),{href:"/admin/users",className:"text-gray-600 hover:text-primary px-3 py-2 text-sm font-medium",children:"Users"}),(0,a.jsx)(l(),{href:"/admin/settings",className:"text-gray-600 hover:text-primary px-3 py-2 text-sm font-medium",children:"Settings"})]})})}),(0,a.jsx)("div",{className:"flex-1 container mx-auto px-4 py-6",children:(0,a.jsxs)(y.AnimateOnView,{animation:"fade-up",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:A?"Edit Event":"Create New Event"}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[A&&(0,a.jsxs)("button",{onClick:V,className:"flex items-center bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-md text-sm font-medium transition-colors duration-300",children:[(0,a.jsx)(d.A,{size:16,className:"mr-2"}),"Cancel Edit"]}),(0,a.jsxs)("button",{onClick:()=>S(!k),className:"flex items-center bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-md text-sm font-medium transition-colors duration-300",children:[(0,a.jsx)(m,{size:16,className:"mr-2"}),k?"Hide Preview":"Preview"]})]})]}),I&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6 flex items-center",children:[(0,a.jsx)(x.A,{size:16,className:"mr-2"}),I]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-8",children:(0,a.jsxs)("form",{onSubmit:L,className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"noticeTitle",className:"block text-gray-700 text-sm font-medium mb-2",children:"Event Title"}),(0,a.jsx)("input",{type:"text",id:"noticeTitle",value:e,onChange:e=>t(e.target.value),placeholder:"Enter event title",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50",required:!0})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"globalNoticeID",className:"block text-gray-700 text-sm font-medium mb-2",children:"Event ID (Optional)"}),(0,a.jsx)("input",{type:"text",id:"globalNoticeID",value:c,onChange:e=>g(e.target.value),placeholder:"e.g., NTC001 (will be generated if left empty)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"A unique identifier for this event. Leave blank to auto-generate."})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"noticefile",className:"block text-gray-700 text-sm font-medium mb-2",children:"Event Image/File (Optional)"}),j?(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)(i.default,{src:j||"/placeholder.svg",alt:"File preview",width:600,height:300,className:"w-full h-64 object-cover rounded-md"}),(0,a.jsx)("button",{type:"button",onClick:()=>{b(null),N(null)},className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100",children:(0,a.jsx)(h,{size:16,className:"text-gray-700"})})]}):(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer bg-gray-50 border border-gray-300 rounded-md py-2 px-3 flex items-center justify-center hover:bg-gray-100",children:[(0,a.jsx)(u,{size:16,className:"mr-2"}),(0,a.jsx)("span",{children:"Choose file"})]}),(0,a.jsx)("input",{id:"file-upload",type:"file",onChange:e=>{let t=e.target.files?.[0];if(t){b(t);let e=new FileReader;e.onloadend=()=>{N(e.result)},e.readAsDataURL(t)}},className:"hidden",accept:"image/*,.pdf,.doc,.docx"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Upload an image for the event or a document with details. Supported formats: JPG, PNG, PDF, DOC."})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"noticeText",className:"block text-gray-700 text-sm font-medium mb-2",children:"Event Description"}),(0,a.jsx)("textarea",{id:"noticeText",value:s,onChange:e=>n(e.target.value),rows:8,placeholder:"Write a detailed description of the event...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50",required:!0})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("button",{type:"submit",disabled:w,className:"bg-primary hover:bg-primary/90 text-white px-6 py-2 rounded-md text-sm font-medium transition-colors duration-300 flex items-center",children:[w&&(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),(0,a.jsx)(p,{size:16,className:"mr-2"}),w?A?"Updating...":"Saving...":A?"Update Event":"Save Event"]})})]})}),k&&(0,a.jsx)(y.AnimateOnView,{animation:"fade-in",delay:200,children:(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-8",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Event Preview"}),(0,a.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"relative",children:[j?(0,a.jsx)(i.default,{src:j||"/placeholder.svg",alt:"Event preview",width:800,height:400,className:"w-full h-64 object-cover"}):(0,a.jsx)("div",{className:"w-full h-64 bg-gray-200 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-400",children:"No image uploaded"})}),(0,a.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex flex-col justify-end p-6",children:[(0,a.jsx)("h1",{className:"text-white text-2xl font-bold",children:e||"Event Title Will Appear Here"}),(0,a.jsxs)("div",{className:"text-white/80 text-sm mt-2",children:["ID: ",c||"Auto-generated"]})]})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"prose max-w-none",children:(0,a.jsx)("p",{className:"text-gray-800 whitespace-pre-line",children:s||"Your event description will appear here..."})})})]})]})})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Existing Events"}),z?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):0===T.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No events found. Create your first event above."}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.noticeTitle}),(0,a.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.noticeText})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.globalNoticeID})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:G(e.creationTime)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>R(e),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[(0,a.jsx)(v,{size:16,className:"mr-1"}),"Edit"]}),(0,a.jsxs)("button",{onClick:()=>H(e.id),className:"text-red-600 hover:text-red-900 flex items-center",children:[(0,a.jsx)(h,{size:16,className:"mr-1"}),"Delete"]})]})})]},e.id))})]})})]})})]})}),(0,a.jsx)("div",{className:"bg-gray-100 py-4 border-t",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsx)("p",{className:"text-xs text-gray-600 text-center",children:"\xa9 2025 Sanatana Dharma Centre Admin Portal. All rights reserved."})})})]})}},2427:(e,t,s)=>{Promise.resolve().then(s.bind(s,1945))},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3592:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))},3613:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2688).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3873:e=>{"use strict";e.exports=require("path")},4471:()=>{},4490:(e,t,s)=>{"use strict";s.d(t,{AnimateOnView:()=>l});var a=s(687),r=s(3210),i=s(9384),n=s(2348);function l({children:e,className:t,animation:s="fade-up",delay:l=0,threshold:o=.1,once:d=!0}){let[c,m]=(0,r.useState)(!1),x=(0,r.useRef)(null);return(0,a.jsx)("div",{ref:x,className:function(...e){return(0,n.QP)((0,i.$)(e))}("transition-all duration-700 ease-out",{"fade-up":"opacity-0 translate-y-8","fade-in":"opacity-0","slide-in-right":"opacity-0 translate-x-8","slide-in-left":"opacity-0 -translate-x-8","zoom-in":"opacity-0 scale-95",bounce:"opacity-0 translate-y-4"}[s],c&&"opacity-100 translate-y-0 translate-x-0 scale-100",t),style:{transitionDelay:`${l}ms`},children:e})}},4677:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var a=s(5239),r=s(8088),i=s(8170),n=s.n(i),l=s(893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d={children:["",{children:["admin",{children:["event-creation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8126)),"/home/tushar/Pictures/spiritual-center (3)/app/admin/event-creation/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8014)),"/home/tushar/Pictures/spiritual-center (3)/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/tushar/Pictures/spiritual-center (3)/app/admin/event-creation/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/event-creation/page",pathname:"/admin/event-creation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8003:(e,t,s)=>{Promise.resolve().then(s.bind(s,8126))},8014:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>n});var a=s(7413),r=s(9258),i=s.n(r);s(2704);let n={title:"Sanatana Dharma Centre",description:"Experience the Divine Bliss of Bhakti & Nature's Lap",generator:"v0.dev"};function l({children:e}){return(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{className:i().className,children:e})})}},8126:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/tushar/Pictures/spiritual-center (3)/app/admin/event-creation/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/tushar/Pictures/spiritual-center (3)/app/admin/event-creation/page.tsx","default")},8559:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2688).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[744,522,889],()=>s(4677));module.exports=a})();